# Staging configuration template for arb-mm.
# You can reference this file directly (`pnpm exec dotenv -e configs/staging.env -- pnpm live`)
# or copy it to `.env.staging` if you need to customise secrets.

# ──────────────────────────
# RPC + provider endpoints
# ──────────────────────────
# Primary HTTPS RPC endpoint (replace with staging key or shared RPC).
RPC_PRIMARY=https://api.mainnet-beta.solana.com
RPC_URL=${RPC_PRIMARY}
# Primary WebSocket endpoint (optional but recommended for Phoenix + AMMs).
RPC_WSS_URL=wss://api.mainnet-beta.solana.com
HELIUS_HTTP=${RPC_PRIMARY}
HELIUS_WSS=${RPC_WSS_URL}
USE_RPC_SIM=0

# Optional dedicated RPC used by CLMM/DLMM quoters. Defaults back to RPC_URL if unset.
CLMM_QUOTER_RPC_URL=${RPC_PRIMARY}
DISABLE_QUOTER_RPC_FALLBACK=1

# ──────────────────────────
# Wallet / signing material
# ──────────────────────────
# Path to the staging keypair used for simulations or dry-runs (no funds required).
# Leave blank in paper-trade mode; required only when executing real trades.
KEYPAIR_PATH=
# Optional Jito bundle signer (leave blank if unused in staging).
JITO_KEYPAIR_PATH=
PRIORITY_FEE_MICROLAMPORTS=0

# ──────────────────────────
# Safety guards
# ──────────────────────────
# Keep staging in paper-trade mode; set to 1 only when intentionally shadow trading.
LIVE_TRADING=0
SEND_WITHOUT_FUNDS=0
MAX_DAILY_TRADES=0
MAX_DAILY_VOLUME_QUOTE=0

# ──────────────────────────
# Routing / sizing controls
# ──────────────────────────
EDGE_MIN_ABS_BPS=5
TRADE_THRESHOLD_BPS=12
MAX_SLIPPAGE_BPS=2
TRADE_SIZE_BASE=0.05
DECISION_MIN_BASE=0.01
SIZEOPT_MAX_POOL_FRAC=0.1

# Enable multi-hop enumeration but keep execution gated until promotion to live.
ENABLE_MULTI_HOP_ROUTES=1
ENABLE_MULTI_HOP_EXEC=0
MAX_ROUTE_LEGS=3
ROUTER_MAX_LEGS=3

# ──────────────────────────
# Logging + telemetry paths
# ──────────────────────────
RUNS_ROOT=./data/runs/staging
SESSION_LOGS_ENABLE=1

# ──────────────────────────
# Fee assumptions (match live defaults unless staging deviates)
# ──────────────────────────
PHOENIX_TAKER_FEE_BPS=2
AMM_TAKER_FEE_BPS=25

# ──────────────────────────
# Misc diagnostics
# ──────────────────────────
LOG_PATH_PAIRS=1
FORCE_ALL_PATHS=1
LOG_CANDIDATE_LEVELS=0
