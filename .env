# ───────────────────────── RPC / Providers ─────────────────────────
HELIUS_API_KEY=2bb675f2-573f-4561-b57f-d351db310e5a
RPC_PRIMARY=https://rpc.helius.xyz/?api-key=2bb675f2-573f-4561-b57f-d351db310e5a
RPC_FALLBACKS=https://api.mainnet-beta.solana.com
QUICKNODE_API_KEY=QN_6325e65ea3d44df3b8bfae2a65fdbd56

# ───────────────────────── Jito (reserved) ─────────────────────────
JITO_BLOCK_ENGINE_URL=https://mainnet.block-engine.jito.wtf
JITO_AUTH_KEYPAIR=./secrets/jito.json
JITO_BUNDLE_TX_LIMIT=5

# ───────────────────────── Jupiter (reserved) ──────────────────────
JUP_API=c179821c-58cb-44a2-9275-60709d8c0430

# ─────────────────────── Wallet / Accounts ─────────────────────────
# Use your actual keypair file (matches your `solana config set` earlier)
KEYPAIR_PATH=/home/dudesoup/code/mev/wallets/blondi.json
WALLET_KEYPAIR_PATH=/home/dudesoup/code/mev/wallets/blondi.json
WALLET_PUBKEY=5wqHjxk5VhRTUc9Gavgtan3MN5k31ETjDvnU7x4MPRHr
OWNER_PUBKEY=5wqHjxk5VhRTUc9Gavgtan3MN5k31ETjDvnU7x4MPRHr
USDC_ATA=FEcYTKzvgkNDD2VG9SdcvNH1bWYZ2Ggn59XES5y2nAc6
WSOL_ATA=GkvWNym7ctZ3Q6fnB4VuqRV2LDeViygqbtzKRU9Pi4yj
TIP_ACCOUNT=5wqHjxk5VhRTUc9Gavgtan3MN5k31ETjDvnU7x4MPRHr

# ───────────────────── Raydium pool discovery ──────────────────────
RAYDIUM_KEYS_SOURCE=file
RAYDIUM_POOLS_FILE=/home/dudesoup/code/mev/services/arb-mm/config/raydium_pools.mainnet.json
AMMS_RAYDIUM_USE_API_BOOTSTRAP=false

# ─────────────────────── Publishers (inputs) ───────────────────────
EDGE_AMMS_JSONL=packages/amms/logs/runtime.jsonl
EDGE_PHOENIX_JSONL=packages/phoenix/logs/runtime.jsonl
AMMS_TICK_MS=2000

# ───────────────────────── Phoenix L2 / Pyth ───────────────────────
PHOENIX_MARKET=4DoNfFBfF7UokCC2FQzriy7yHK6DY6NVdYpuekQ5pRgg
PHOENIX_TICK_MS=2000
PHOENIX_L2_DEPTH=10
PHOENIX_WS_ENABLED=true
PHOENIX_USE_PYTH_FALLBACK=false
PYTH_FALLBACK=false
PYTH_PRICE_ID_SOL_USDC=0xef0d8b6fda2ceba41da15d4095d1da392a0d2f8ed0c6c7bc0f4cfac8c280b56d
PYTH_SOL_USD_FEED_ID=0xef0d8b6fda2ceba41da15d4095d1da392a0d2f8ed0c6c7bc0f4cfac8c280b56d
HERMES_ENDPOINT=https://hermes.pyth.network

# ───────────────────────── Token / Pool IDs ────────────────────────
SOL_MINT=So11111111111111111111111111111111111111112
USDC_MINT=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
RAYDIUM_BASE_MINT=So11111111111111111111111111111111111111112
RAYDIUM_QUOTE_MINT=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
RAYDIUM_POOL_ID_SOL_USDC=58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2

# ───────────────── Edge Joiner visibility + cadence ────────────────
EDGE_MIN_ABS_BPS=0.5                 # low so we *consider* edges often
EDGE_WAIT_LOG_MS=1000
PHOENIX_BOOK_TTL_MS=500
PHOENIX_SYNTH_WIDTH_BPS=10
EDGE_FOLLOW_POLL_MS=500

# ───────────── Decision / Slippage / Guardrails (micro) ────────────
AUTO_APPLY_PARAMS=true
TRADE_THRESHOLD_BPS=0.10             # tiny so it makes decisions
DECISION_MIN_EDGE_DELTA_BPS=0.10
DECISION_DEDUPE_MS=1000
DECISION_BUCKET_MS=250
ENFORCE_DEDUPE=1

MAX_SLIPPAGE_BPS=1.0                 # flat slippage ceiling
PHOENIX_SLIPPAGE_BPS=2               # floor + dynamic component used
SLIPPAGE_MODE=adaptive
USE_POOL_IMPACT_SIM=1
CPMM_MAX_POOL_TRADE_FRAC=0.02
DYNAMIC_SLIPPAGE_EXTRA_BPS=0.25
LOG_SIM_FIELDS=1

TRADE_SIZE_BASE=0.001                # micro-size
PHOENIX_TAKER_FEE_BPS=0
AMM_TAKER_FEE_BPS=25
FIXED_TX_COST_QUOTE=0

# ====== PER-POOL / PER-MARKET OVERRIDES (authoritative) ======
# Raydium CPMM SOL/USDC pool (exactly matches your logs)
AMM_TAKER_FEE_BPS__58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2=25

# Phoenix SOL/USDC market (exactly matches your logs)
PHOENIX_TAKER_FEE_BPS__4DoNfFBfF7UokCC2FQzriy7yHK6DY6NVdYpuekQ5pRgg=0

# ====== PHOENIX DEPTH MODEL ======
PHOENIX_DEPTH_ENABLED=1           # walk L2 to your size, not best-of-book only
PHOENIX_DEPTH_LEVELS=12           # how many levels to ingest/walk
PHOENIX_DEPTH_EXTRA_BPS=0.15      # small safety margin added to depth-walk result

# ──────────────────────── Sim / RPC consistency ────────────────────
# Shadow: keep off for speed; Live: flip both to 1 for guards
USE_RPC_SIM=1
USE_RAYDIUM_SWAP_SIM=1
SIM_FAIL_ON_FALLBACK=true
RPC_SIM_TOL_BPS=2
RPC_SIM_MAX_MS=400
RPC_SIM_CU_LIMIT=400000
RPC_SIM_CU_PRICE_MICROLAMPORTS=80

# ───────────────────── Submit / Tips / Budget (live) ───────────────
SUBMIT_MODE=rpc
SUBMIT_CU_LIMIT=400000
SUBMIT_TIP_LAMPORTS=0
TIP_MODE=auto
TIP_MICROLAMPORTS_PER_CU=80
TIP_MULTIPLIER=1.2
TIP_MAX_LAMPORTS=50000
MIN_SOL_BALANCE_LAMPORTS=2000000     # 0.002 SOL guard; you have ~0.18 SOL

# ─────────────────────────── Run mode toggles ──────────────────────
# Default to SHADOW so you instantly see decisions + ML logs.
SHADOW_TRADING=0
LIVE_TRADING=0
LIVE_SIZE_BASE=0.001

# To run live: set SHADOW_TRADING=0 and LIVE_TRADING=1 (and usually
# USE_RPC_SIM=1 and USE_RAYDIUM_SWAP_SIM=1 for sim guardrails).

# ─────────────────────────── Data / Logging ────────────────────────
DATA_DIR=data
FEATURE_FORMAT=jsonl

# Force session artifacts even with zero trades/decisions
SESSION_TAG=default
SESSION_AUTOSAVE=1                   # honored by our main on shutdown

SESSION_LOGS_ENABLE=true
SESSION_LOGS_DIR=services/arb-mm/data/sessions

# Required if your file is at repo root
RAYDIUM_POOL_JSON_PATH=/home/dudesoup/code/mev/configs/raydium.pool.json

# Optional (logging OFF by default; turn on when validating)
LOG_RAYDIUM_MINOUT=0

# Optional fee/slippage tuning for minOut
RAYDIUM_TRADE_FEE_BPS=25
RAYDIUM_MINOUT_BUFFER_BPS=0

